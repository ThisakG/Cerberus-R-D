<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>View Logs - Cerberus Research</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboardStyle.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon-32x32.png') }}">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
</head>
<body>
    <div class="logo-top">
        <img src="{{ url_for('static', filename='banner.png') }}" alt="logo" class="favlogo" />
    </div>
    <header class="navbar">
        <nav>
            <ul>
                <li><a href="/dashboard">HOME</a></li>
                <li><a href="/profile?user_id={{ session['username'] }}">PROFILE</a></li>
                <li><a href="/download?file=report.pdf">REPORTS</a></li>
                <li><a href="/view?log=today.log">LOGS</a></li>
                <li><a href="/search">SEARCH</a></li>
            </ul>
        </nav>
        <div>
            <a href="/logout" class="resume-button">LOGOUT</a>
        </div>
    </header>
    <main class="content">
        <h1>View Logs</h1>
        <form method="get" action="/view" style="margin-bottom: 24px;">
            <input type="text" name="log" placeholder="Enter log filename (e.g., password_log.log)" value="{{ request.args.get('log', '') }}" style="padding:8px; border-radius:6px; border:1px solid #222; width:260px;">
            <button type="submit" class="resume-button">View Log</button>
        </form>
        {% if content %}
            <div class="card" style="margin: 0 auto; max-width: 600px; background: #181818;">
                <h2 style="color:#fff;">{{ request.args.get('log') }}</h2>
                <pre style="text-align:left; color:#fff; background:#222; padding:16px; border-radius:8px; overflow-x:auto;">{{ content|safe }}</pre>
            </div>
            <div style="margin-top:24px;">
                <a href="/submit_flag" class="resume-button">Submit the Decoded Secret</a>
            </div>
        {% elif error %}
            <div class="error">{{ error }}</div>
        {% endif %}
    </main>

        <div id="dog-lottie" style="
        position: fixed;
        bottom: 24px;
        width: 150px;
        height: 70px;
        z-index: 9999;
        pointer-events: none;
        display: none;
    "></div>
    <script>
    lottie.loadAnimation({
        container: document.getElementById('dog-lottie'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: "{{ url_for('static', filename='dog2.json') }}"
    });
    </script>
    <script src="{{ url_for('static', filename='doggo.js') }}"></script>
</body>
</html>